<?php
/**
 * Created by PhpStorm.
 * User: HP
 * Date: 24-Jun-17
 * Time: 2:21 PM
 */

namespace App\Controllers;


use Core\View;
use App\Models\Admin\Search;

class Rooms extends \Core\Controller {

    public function before()
    {
        parent::before(); // TODO: Change the autogenerated stub
    }


    public function searchResultsAction(){

        $checkin  = $_POST['checkin'] ?? false;
        $checkout = $_POST['checkout'] ?? false;

        if($checkin && $checkout){

            $rooms = Search::findRoomsByDates($checkin, $checkout);

            //print_r($rooms);

            View::renderTemplate('rooms/search_results.html', [
                'rooms'    => $rooms,
                'checkin'  => $checkin,
                'checkout' => $checkout
            ]);


        }

    }
}