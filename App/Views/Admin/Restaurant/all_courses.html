{% extends "admin_base.html" %}

{% block title %}All menu courses{% endblock %}
{% block page_heading %}All menu courses in{% endblock %}
{% block page_subheading %}{{ site_name }}{% endblock %}


{% block footer %}


<script>

    // make delete checked button active on checking at least one checkbox and disable it if no checkboxes are checked
    $(document).ready(function () {

        $('.delete-course').change(function () {

            if($('.delete-course').is(':checked')){

                $('#deleteCheckedCourses').removeAttr('disabled');

            } else {

                $('#deleteCheckedCourses').attr('disabled', 'disabled');

            }

        })

    });
</script>

{% endblock %}


{% block body %}

<div class="row" id="createCategory">
    <a class="btn btn-default" href="/admin/restaurant/create-course" >Create</a>
</div>

<div class="row wrap">
    <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
    <div>
        <form method="post" action="/admin/restaurant/delete-checked">
        <table class="table table-bordered table-hover">
            <thead>
                <tr>
                    <th class="text-center">Image</th>
                    <th class="text-center">Title</th>
                    <th class="text-center">Category</th>
                    <th class="text-center">Description</th>
                    <th class="text-center">Price</th>
                    <th colspan="2" class="text-center">Actions</th>
                </tr>
            </thead>
            <tbody>
            {% for course in courses %}
            {% for set in course %}
                <tr>
                    <td class="edit-category-table text-center"><div class="course"><img class="img-responsive" src="{{set.path}}"></div></td>
                    <td class="edit-category-table text-center">{{ set.course_name }}</td>
                    <td class="edit-category-table">{{ set.category_name }}</td>
                    <td class="edit-category-table text-center">{{ set.description}}</td>
                    <td class="edit-category-table text-center">{{ set.price }}</td>
                    <td class="edit-category-table text-center"><a class="btn btn-default" href="/admin/restaurant/edit-course?id={{ set.course_id}}">Edit</a></td>
                    <td class="edit-category-table text-center"><input type="checkbox" name="course-{{ course.course_id }}" value="{{ set.course_id }}" class="delete-course"></td>
                </tr>
            {% endfor %}
            {% endfor %}
            </tbody>
        </table>
            <button id="deleteCheckedCourses" disabled="disabled" class="btn btn-danger" type="submit"  data-toggle="confirmation" data-title="Delete courses?" data-popout="true" data-placement="top">Delete checked</button>
        </form>
    </div>
    </div>
</div>




{% if courses is empty %}
<div class="row wrap">
    <h3>There are currently no courses in your menu. You can <a href="/admin/restaurant/create-course">create</a> one</h3>
</div>
{% endif %}



{% endblock %}

